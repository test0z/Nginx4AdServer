ngx_addon_name=modAdservice
HTTP_MODULES="$HTTP_MODULES modAdservice"
CORE_INCS="$CORE_INCS $ngx_addon_dir
$ngx_addon_dir/service"
NGX_ADDON_SRCS="$NGX_ADDON_SRCS
$ngx_addon_dir/main.cpp
$ngx_addon_dir/logging.cpp
$ngx_addon_dir/service/core/adselectv2/ad_select_client.cpp
$ngx_addon_dir/service/core/logic/abstract_query_task.cpp
$ngx_addon_dir/service/core/logic/bid_query_task.cpp
$ngx_addon_dir/service/core/logic/click_query_task.cpp
$ngx_addon_dir/service/core/logic/show_query_task.cpp
$ngx_addon_dir/service/core/logic/trace_task.cpp
$ngx_addon_dir/service/core/logic/mapping_query_task.cpp
$ngx_addon_dir/service/core/logpusher/kafka_log_producer.cpp
$ngx_addon_dir/service/core/logpusher/log_pusher.cpp
$ngx_addon_dir/service/core/model/source_id.cpp
$ngx_addon_dir/service/core/model/user.cpp
$ngx_addon_dir/service/core/model/idseq.cpp
$ngx_addon_dir/service/core/config_types.cpp
$ngx_addon_dir/service/core/core_executor.cpp
$ngx_addon_dir/service/core/core_ip_manager.cpp
$ngx_addon_dir/service/core/core_typetable.cpp
$ngx_addon_dir/service/core/core_ad_sizemap.cpp
$ngx_addon_dir/service/core/core_cm_manager.cpp
$ngx_addon_dir/service/libutil/AdAcbm.cpp
$ngx_addon_dir/service/libutil/AdIpc.cpp
$ngx_addon_dir/service/libutil/AdMd5.cpp
$ngx_addon_dir/service/protocol/baidu/baidu_bidding_handler.cpp
$ngx_addon_dir/service/protocol/baidu/baidu_price.cpp
$ngx_addon_dir/service/protocol/baidu/baidu_bidding.pb.cpp
$ngx_addon_dir/service/protocol/base/abstract_bidding_handler.cpp
$ngx_addon_dir/service/protocol/guangyin/guangyin_bidding_handler.cpp
$ngx_addon_dir/service/protocol/guangyin/guangyin_price.cpp
$ngx_addon_dir/service/protocol/guangyin/guangyin_bidding.pb.cpp
$ngx_addon_dir/service/protocol/netease/netease_bidding_handlerv2.cpp
$ngx_addon_dir/service/protocol/netease/nex_bidding_handler.cpp
$ngx_addon_dir/service/protocol/netease/nex_price.cpp
$ngx_addon_dir/service/protocol/kupai/kupai_bidding_handler.cpp
$ngx_addon_dir/service/protocol/kupai/wk_adx_rtb_ext.pb.cpp
$ngx_addon_dir/service/protocol/kupai/openrtb.pb.cpp
$ngx_addon_dir/service/protocol/kupai/kupai_price_decode.cpp
$ngx_addon_dir/service/protocol/sohu/sohu_bidding_handler.cpp
$ngx_addon_dir/service/protocol/sohu/sohu_price.cpp
$ngx_addon_dir/service/protocol/sohu/sohuRTB.pb.cpp
$ngx_addon_dir/service/protocol/tanx/tanx_bidding_handler.cpp
$ngx_addon_dir/service/protocol/tanx/tanx_price.cpp
$ngx_addon_dir/service/protocol/tanx/tanx_device_id.cpp
$ngx_addon_dir/service/protocol/tanx/tanx_bidding.pb.cpp
$ngx_addon_dir/service/protocol/tencent_gdt/gdt_bidding_handler.cpp
$ngx_addon_dir/service/protocol/tencent_gdt/tencent_gdt_price.cpp
$ngx_addon_dir/service/protocol/tencent_gdt/gdt.pb.cpp
$ngx_addon_dir/service/protocol/youku/youku_bidding_handlerv2.cpp
$ngx_addon_dir/service/protocol/youku/youku_price.cpp
$ngx_addon_dir/service/protocol/inmobi/inmobi_bidding_handler.cpp
$ngx_addon_dir/service/protocol/liebao/liebao_bidding_handler.cpp
$ngx_addon_dir/service/protocol/360/360max_bidding_handler.cpp
$ngx_addon_dir/service/protocol/360/360max_price.cpp
$ngx_addon_dir/service/protocol/360/max-bidding.pb.cpp
$ngx_addon_dir/service/protocol/debug/debug.pb.cpp
$ngx_addon_dir/service/utility/cypher.cpp
$ngx_addon_dir/service/utility/escape.cpp
$ngx_addon_dir/service/utility/file.cpp
$ngx_addon_dir/service/utility/hash.cpp
$ngx_addon_dir/service/utility/json.cpp
$ngx_addon_dir/service/utility/memory.cpp
$ngx_addon_dir/service/utility/mttytime.cpp
$ngx_addon_dir/service/utility/random.cpp
$ngx_addon_dir/service/utility/url.cpp
$ngx_addon_dir/service/utility/userclient.cpp
$ngx_addon_dir/service/utility/http.cpp
$ngx_addon_dir/service/utility/compress.cpp"

#CORE_DEPS="$CORE_DEPS $ngx_addon_dir/logging.h
#$ngx_addon_dir/service/common/constants.h
#$ngx_addon_dir/service/common/atomic.h
#$ngx_addon_dir/service/common/functions.h
#$ngx_addon_dir/service/common/platform.h
#$ngx_addon_dir/service/common/spinlock.h
#$ngx_addon_dir/service/common/types.h
#$ngx_addon_dir/service/core/adselectv2/ad_select_client.h
#$ngx_addon_dir/service/core/adselectv2/ad_select_interface.h
#$ngx_addon_dir/service/core/adselectv2/addata.h
#$ngx_addon_dir/service/core/adselectv2/addatamanager.h
#$ngx_addon_dir/service/core/logic/abstract_query_task.h
#$ngx_addon_dir/service/core/logic/bid_query_task.h
#$ngx_addon_dir/service/core/logic/show_query_task.h
#$ngx_addon_dir/service/core/logic/click_query_task.h
#$ngx_addon_dir/service/core/logic/trace_task.h
#$ngx_addon_dir/service/core/logic/task_thread_data.h
#$ngx_addon_dir/service/core/logpusher/kafka_log_producer.h
#$ngx_addon_dir/service/core/logpusher/log_producer.h
#$ngx_addon_dir/service/core/logpusher/log_pusher.h
#$ngx_addon_dir/service/core/model/source_id.h
#$ngx_addon_dir/service/core/config_types.h
#$ngx_addon_dir/service/core/core_executor.h
#$ngx_addon_dir/service/core/core_ip_manager.h
#$ngx_addon_dir/service/core/core_typetable.h
#$ngx_addon_dir/service/libutil/AdAcbm.h
#$ngx_addon_dir/service/libutil/AdGlobal.h
#$ngx_addon_dir/service/libutil/AdIpc.h
#$ngx_addon_dir/service/libutil/AdLock.h
#$ngx_addon_dir/service/libutil/AdMd5.h
#$ngx_addon_dir/service/libutil/AdSharedLib.h
#$ngx_addon_dir/service/libutil/AdTime.h
#$ngx_addon_dir/service/libutil/AdUaParser.h
#$ngx_addon_dir/service/libutil/AdUtil.h
#$ngx_addon_dir/service/protocol/baidu/baidu_bidding.pb.h
#$ngx_addon_dir/service/protocol/baidu/baidu_bidding_handler.h
#$ngx_addon_dir/service/protocol/baidu/baidu_price.h
#$ngx_addon_dir/service/protocol/base/abstract_bidding_handler.h
#$ngx_addon_dir/service/protocol/guangyin/guangyin_bidding.pb.h
#$ngx_addon_dir/service/protocol/guangyin/guangyin_bidding_handler.h
#$ngx_addon_dir/service/protocol/guangyin/guangyin_price.h
#$ngx_addon_dir/service/protocol/log/log.h
#$ngx_addon_dir/service/protocol/netease/netease_bidding_handlerv2.h
#$ngx_addon_dir/service/protocol/sohu/sohu_bidding_handler.h
#$ngx_addon_dir/service/protocol/sohu/sohu_price.h
#$ngx_addon_dir/service/protocol/sohu/sohuRTB.pb.h
#$ngx_addon_dir/service/protocol/tanx/tanx_bidding.pb.h
#$ngx_addon_dir/service/protocol/tanx/tanx_bidding_handler.h
#$ngx_addon_dir/service/protocol/tanx/tanx_price.h
#$ngx_addon_dir/service/protocol/tencent_gdt/gdt.pb.h
#$ngx_addon_dir/service/protocol/tencent_gdt/gdt_bidding_handler.h
#$ngx_addon_dir/service/protocol/tencent_gdt/tencent_gdt_price.h
#$ngx_addon_dir/service/protocol/youku/youku_bidding_handlerv2.h
#$ngx_addon_dir/service/protocol/youku/youku_price.h
#"

CFLAGS="$CFLAGS -march=native -Wno-error=narrowing -Wno-error=int-to-pointer-cast -Wno-error=type-limits -DMUDUO_STD_STRING"

CORE_LIBS="-L/usr/lib -L/usr/lib64 -L/usr/local/lib -L/usr/local/lib64 $CORE_LIBS
/usr/local/lib/libcppcms.a
/usr/local/lib/libbooster.a
/usr/local/lib/libavrocpp_s.a
/usr/local/lib/librdkafka++.a
/usr/local/lib/librdkafka.a
/usr/local/lib/libboost_serialization.a
/usr/local/lib/libboost_log.a
/usr/local/lib/libboost_thread.a
/usr/local/lib/libboost_filesystem.a
/usr/local/lib/libboost_system.a
/usr/local/lib/libprotobuf.a
/usr/local/lib/libboost_iostreams.a
/usr/local/lib/libmysqlcppconn-static.a
-lpthread -lstdc++ -lcrypt -lpcre -lcrypto -lcryptopp -lz -lssl -lcurl -licuuc -licui18n -ldl -lzmq -lmtty
/usr/lib/libaerospike.a
/usr/local/lib/libev.a
-Wl,-rpath,/usr/local/lib "

